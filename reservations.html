<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ancient Aroma | Table Reservations</title>
    <style>
        :root {
            --bg-primary: #121212;
            --bg-secondary: #1e1e1e;
            --bg-tertiary: #2d2d2d;
            --text-primary: #f5f5f5;
            --text-secondary: #b3b3b3;
            --accent-primary: #c85000;
            --accent-secondary: #e07b39;
            --accent-tertiary: #f0a868;
            --success: #4caf50;
            --error: #f44336;
            --warning: #ff9800;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('https://images.unsplash.com/photo-1554118811-1e0d58224f24?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            opacity: 0.15;
            z-index: -1;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            padding: 20px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 40px;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
            color: var(--text-primary);
        }

        .logo-image {
            width: 40px;
            height: 40px;
        }

        .logo-text {
            font-size: 1.5rem;
            font-weight: bold;
            letter-spacing: -0.5px;
            color: var(--text-primary);
            font-family: Georgia, serif;
        }

        .nav-links {
            display: flex;
            gap: 20px;
        }

        .nav-link {
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.9rem;
            transition: color 0.3s;
        }

        .nav-link:hover {
            color: var(--accent-tertiary);
        }

        .nav-link.active {
            color: var(--accent-primary);
            font-weight: 500;
        }

        .page-title {
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.2rem;
            font-weight: 700;
            color: var(--accent-primary);
        }

        .page-subtitle {
            text-align: center;
            margin-bottom: 40px;
            color: var(--text-secondary);
            font-size: 1.1rem;
        }

        .reservation-container {
            display: flex;
            flex-direction: column;
            gap: 30px;
        }

        @media (min-width: 768px) {
            .reservation-container {
                flex-direction: row;
            }
        }

        .reservation-form {
            flex: 1;
            background-color: var(--bg-secondary);
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .form-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--accent-tertiary);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .form-control {
            width: 100%;
            padding: 12px;
            background-color: var(--bg-tertiary);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            color: var(--text-primary);
            font-size: 1rem;
            transition: border-color 0.3s, box-shadow 0.3s;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--accent-primary);
            box-shadow: 0 0 0 2px rgba(200, 80, 0, 0.2);
        }

        .form-row {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }

        .form-col {
            flex: 1;
        }

        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: var(--accent-primary);
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
        }

        .btn:hover {
            background-color: var(--accent-secondary);
            transform: translateY(-2px);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn-block {
            display: block;
            width: 100%;
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid var(--accent-primary);
            color: var(--accent-primary);
        }

        .btn-outline:hover {
            background-color: rgba(200, 80, 0, 0.1);
        }

        .table-layout {
            flex: 1;
            background-color: var(--bg-secondary);
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .layout-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--accent-tertiary);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 10px;
        }

        .layout-subtitle {
            color: var(--text-secondary);
            margin-bottom: 20px;
            font-size: 0.9rem;
        }

        .cafe-layout {
            position: relative;
            width: 100%;
            height: 400px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            margin-bottom: 20px;
            background-color: var(--bg-tertiary);
            overflow: hidden;
        }

        .cafe-layout::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><rect width="1" height="1" fill="rgba(255,255,255,0.05)"/></svg>');
            background-size: 20px 20px;
            opacity: 0.5;
        }

        .table {
            position: absolute;
            background-color: var(--bg-secondary);
            border: 2px solid var(--accent-primary);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-primary);
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            user-select: none;
        }

        .table:hover {
            background-color: rgba(200, 80, 0, 0.2);
            transform: scale(1.05);
        }

        .table.selected {
            background-color: var(--accent-primary);
            color: white;
            transform: scale(1.05);
        }

        .table.booked {
            background-color: rgba(244, 67, 54, 0.2);
            border-color: var(--error);
            color: var(--error);
            cursor: not-allowed;
        }

        .table.booked:hover {
            transform: none;
        }

        .table-2 {
            width: 60px;
            height: 60px;
        }

        .table-4 {
            width: 80px;
            height: 80px;
        }

        .table-6 {
            width: 100px;
            height: 80px;
        }

        .table-8 {
            width: 120px;
            height: 80px;
        }

        .legend {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 4px;
        }

        .legend-available {
            background-color: var(--bg-secondary);
            border: 2px solid var(--accent-primary);
        }

        .legend-selected {
            background-color: var(--accent-primary);
        }

        .legend-booked {
            background-color: rgba(244, 67, 54, 0.2);
            border: 2px solid var(--error);
        }

        .selected-table-info {
            background-color: var(--bg-tertiary);
            border-radius: 6px;
            padding: 15px;
            margin-bottom: 20px;
            display: none;
        }

        .selected-table-info.active {
            display: block;
        }

        .selected-table-title {
            font-size: 1.1rem;
            margin-bottom: 10px;
            color: var(--accent-tertiary);
        }

        .selected-table-details {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .reservation-list {
            flex: 1;
            background-color: var(--bg-secondary);
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            margin-top: 30px;
        }

        .list-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--accent-tertiary);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 10px;
        }

        .reservations {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
        }

        .reservation-card {
            background-color: var(--bg-tertiary);
            border-radius: 8px;
            padding: 15px;
            border-left: 4px solid var(--accent-primary);
        }

        .reservation-card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 10px;
        }

        .reservation-name {
            font-size: 1.1rem;
            font-weight: 500;
            color: var(--text-primary);
        }

        .reservation-table {
            background-color: var(--accent-primary);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .reservation-details {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 15px;
        }

        .reservation-detail {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 5px;
        }

        .reservation-detail svg {
            color: var(--accent-tertiary);
            flex-shrink: 0;
        }

        .reservation-actions {
            display: flex;
            gap: 10px;
        }

        .btn-sm {
            padding: 6px 12px;
            font-size: 0.8rem;
        }

        .btn-danger {
            background-color: var(--error);
        }

        .btn-danger:hover {
            background-color: #d32f2f;
        }

        .empty-state {
            text-align: center;
            padding: 30px;
            color: var(--text-secondary);
        }

        .empty-state svg {
            width: 60px;
            height: 60px;
            color: var(--accent-tertiary);
            margin-bottom: 15px;
            opacity: 0.6;
        }

        .empty-state-title {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: var(--text-primary);
        }

        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--bg-tertiary);
            color: var(--text-primary);
            padding: 15px 20px;
            border-radius: 6px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            display: flex;
            align-items: center;
            gap: 10px;
            z-index: 1000;
            transform: translateY(100px);
            opacity: 0;
            transition: transform 0.3s, opacity 0.3s;
        }

        .toast.show {
            transform: translateY(0);
            opacity: 1;
        }

        .toast-success {
            border-left: 4px solid var(--success);
        }

        .toast-error {
            border-left: 4px solid var(--error);
        }

        .toast-icon {
            color: var(--success);
        }

        .toast-error .toast-icon {
            color: var(--error);
        }

        .toast-message {
            flex: 1;
        }

        .toast-close {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 1.2rem;
            line-height: 1;
        }

        footer {
            margin-top: 60px;
            padding: 30px 0;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        @media (max-width: 768px) {
            .form-row {
                flex-direction: column;
                gap: 0;
            }

            .cafe-layout {
                height: 300px;
            }

            .legend {
                flex-wrap: wrap;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                
                    <span class="logo-text">Ancient Aroma</span>
                </a>
                
            </div>
        </div>
    </header>

    <main>
        <div class="container">
            <h1 class="page-title">Table Reservations</h1>
            <p class="page-subtitle">Reserve your table at Ancient Aroma and enjoy our authentic flavors</p>

            <div class="reservation-container">
                <div class="reservation-form">
                    <h2 class="form-title">Make a Reservation</h2>
                    <form id="reservation-form">
                        <div class="form-group">
                            <label for="name">Full Name</label>
                            <input type="text" id="name" class="form-control" placeholder="Enter your full name" required>
                        </div>

                        <div class="form-row">
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="email">Email Address</label>
                                    <input type="email" id="email" class="form-control" placeholder="Enter your email" required>
                                </div>
                            </div>
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="phone">Phone Number</label>
                                    <input type="tel" id="phone" class="form-control" placeholder="Enter your phone number" required>
                                </div>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="date">Date</label>
                                    <input type="date" id="date" class="form-control" required>
                                </div>
                            </div>
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="time">Time</label>
                                    <input type="time" id="time" class="form-control" required>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="guests">Number of Guests</label>
                            <select id="guests" class="form-control" required>
                                <option value="" disabled selected>Select number of guests</option>
                                <option value="1">1 Person</option>
                                <option value="2">2 People</option>
                                <option value="3">3 People</option>
                                <option value="4">4 People</option>
                                <option value="5">5 People</option>
                                <option value="6">6 People</option>
                                <option value="7">7 People</option>
                                <option value="8">8 People</option>
                                <option value="9">9+ People (Please call us)</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="special-requests">Special Requests (Optional)</label>
                            <textarea id="special-requests" class="form-control" rows="3" placeholder="Any special requests or dietary requirements?"></textarea>
                        </div>

                        <div class="selected-table-info" id="selected-table-info">
                            <h3 class="selected-table-title">Selected Table</h3>
                            <p class="selected-table-details" id="selected-table-details">You have selected Table #1 (4 People)</p>
                        </div>

                        <button type="submit" class="btn btn-block">Book Table</button>
                    </form>
                </div>

                <div class="table-layout">
                    <h2 class="layout-title">Select a Table</h2>
                    <p class="layout-subtitle">Click on an available table to select it for your reservation</p>

                    <div class="legend">
                        <div class="legend-item">
                            <div class="legend-color legend-available"></div>
                            <span>Available</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color legend-selected"></div>
                            <span>Selected</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color legend-booked"></div>
                            <span>Booked</span>
                        </div>
                    </div>

                    <div class="cafe-layout" id="cafe-layout">
                        <!-- Tables will be added by JavaScript -->
                    </div>

                    <p class="layout-subtitle">Note: Table availability is subject to change. Final confirmation will be sent via email.</p>
                </div>
            </div>

            <div class="reservation-list" id="reservation-list">
                <h2 class="list-title">Your Reservations</h2>
                <div class="reservations" id="reservations">
                    <!-- Reservations will be added by JavaScript -->
                </div>
            </div>
        </div>
    </main>

    <div class="toast" id="toast">
        <div class="toast-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                <polyline points="22 4 12 14.01 9 11.01"></polyline>
            </svg>
        </div>
        <div class="toast-message" id="toast-message">Reservation successfully booked!</div>
        <button class="toast-close" id="toast-close">&times;</button>
    </div>

    <footer>
        <div class="container">
            <p>&copy; <span id="current-year"></span> Ancient Aroma. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Table data
        const tables = [
            { id: 1, size: 2, x: 50, y: 50, width: 60, height: 60, booked: false },
            { id: 2, size: 2, x: 50, y: 150, width: 60, height: 60, booked: false },
            { id: 3, size: 2, x: 50, y: 250, width: 60, height: 60, booked: false },
            { id: 4, size: 4, x: 150, y: 50, width: 80, height: 80, booked: false },
            { id: 5, size: 4, x: 150, y: 150, width: 80, height: 80, booked: false },
            { id: 6, size: 4, x: 150, y: 250, width: 80, height: 80, booked: false },
            { id: 7, size: 6, x: 270, y: 50, width: 100, height: 80, booked: false },
            { id: 8, size: 6, x: 270, y: 150, width: 100, height: 80, booked: false },
            { id: 9, size: 8, x: 270, y: 250, width: 120, height: 80, booked: false },
        ];

        // DOM elements
        const cafeLayout = document.getElementById('cafe-layout');
        const reservationForm = document.getElementById('reservation-form');
        const selectedTableInfo = document.getElementById('selected-table-info');
        const selectedTableDetails = document.getElementById('selected-table-details');
        const reservationsContainer = document.getElementById('reservations');
        const toast = document.getElementById('toast');
        const toastMessage = document.getElementById('toast-message');
        const toastClose = document.getElementById('toast-close');
        const currentYear = document.getElementById('current-year');

        // Set current year in footer
        currentYear.textContent = new Date().getFullYear();

        // State
        let selectedTable = null;
        let reservations = [];

        // Load reservations from localStorage
        function loadReservations() {
            const savedReservations = localStorage.getItem('reservations');
            if (savedReservations) {
                try {
                    reservations = JSON.parse(savedReservations);
                    
                    // Update booked tables
                    reservations.forEach(reservation => {
                        const table = tables.find(t => t.id === reservation.tableId);
                        if (table) {
                            table.booked = true;
                        }
                    });
                } catch (e) {
                    console.error('Failed to parse reservations from localStorage', e);
                }
            }
        }

        // Save reservations to localStorage
        function saveReservations() {
            localStorage.setItem('reservations', JSON.stringify(reservations));
        }

        // Render tables in the cafe layout
        function renderTables() {
            cafeLayout.innerHTML = '';
            
            tables.forEach(table => {
                const tableElement = document.createElement('div');
                tableElement.className = `table table-${table.size}`;
                if (table.booked) {
                    tableElement.classList.add('booked');
                }
                if (selectedTable === table.id) {
                    tableElement.classList.add('selected');
                }
                
                tableElement.style.left = `${table.x}px`;
                tableElement.style.top = `${table.y}px`;
                tableElement.style.width = `${table.width}px`;
                tableElement.style.height = `${table.height}px`;
                
                tableElement.textContent = `T${table.id} (${table.size})`;
                tableElement.dataset.id = table.id;
                
                if (!table.booked) {
                    tableElement.addEventListener('click', () => selectTable(table.id));
                }
                
                cafeLayout.appendChild(tableElement);
            });
        }

        // Select a table
        function selectTable(tableId) {
            const table = tables.find(t => t.id === tableId);
            if (table && !table.booked) {
                selectedTable = tableId;
                selectedTableInfo.classList.add('active');
                selectedTableDetails.textContent = `You have selected Table #${table.id} (${table.size} People)`;
                renderTables();
            }
        }

        // Render reservations
        function renderReservations() {
            if (reservations.length === 0) {
                reservationsContainer.innerHTML = `
                    <div class="empty-state">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="3  stroke-linecap="round" stroke-linejoin="round">
                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                            <line x1="16" y1="2" x2="16" y2="6"></line>
                            <line x1="8" y1="2" x2="8" y2="6"></line>
                            <line x1="3" y1="10" x2="21" y2="10"></line>
                        </svg>
                        <h3 class="empty-state-title">No Reservations Yet</h3>
                        <p>Your booked reservations will appear here</p>
                    </div>
                `;
                return;
            }

            reservationsContainer.innerHTML = '';
            
            reservations.forEach(reservation => {
                const table = tables.find(t => t.id === reservation.tableId);
                const reservationDate = new Date(reservation.date);
                const formattedDate = reservationDate.toLocaleDateString('en-US', { 
                    weekday: 'short', 
                    year: 'numeric', 
                    month: 'short', 
                    day: 'numeric' 
                });
                
                const reservationCard = document.createElement('div');
                reservationCard.className = 'reservation-card';
                reservationCard.innerHTML = `
                    <div class="reservation-card-header">
                        <h3 class="reservation-name">${reservation.name}</h3>
                        <span class="reservation-table">Table ${reservation.tableId}</span>
                    </div>
                    <div class="reservation-details">
                        <div class="reservation-detail">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                <line x1="16" y1="2" x2="16" y2="6"></line>
                                <line x1="8" y1="2" x2="8" y2="6"></line>
                                <line x1="3" y1="10" x2="21" y2="10"></line>
                            </svg>
                            <span>${formattedDate} at ${reservation.time}</span>
                        </div>
                        <div class="reservation-detail">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                <circle cx="9" cy="7" r="4"></circle>
                                <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                                <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                            </svg>
                            <span>${reservation.guests} ${reservation.guests > 1 ? 'People' : 'Person'}</span>
                        </div>
                        <div class="reservation-detail">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                            </svg>
                            <span>${reservation.phone}</span>
                        </div>
                    </div>
                    <div class="reservation-actions">
                        <button class="btn btn-sm btn-danger" data-id="${reservation.id}">Cancel Reservation</button>
                    </div>
                `;
                
                const cancelButton = reservationCard.querySelector('.btn-danger');
                cancelButton.addEventListener('click', () => cancelReservation(reservation.id));
                
                reservationsContainer.appendChild(reservationCard);
            });
        }

        // Cancel a reservation
        function cancelReservation(id) {
            const reservation = reservations.find(r => r.id === id);
            if (reservation) {
                const table = tables.find(t => t.id === reservation.tableId);
                if (table) {
                    table.booked = false;
                }
                
                reservations = reservations.filter(r => r.id !== id);
                saveReservations();
                renderTables();
                renderReservations();
                
                showToast('Reservation cancelled successfully', 'error');
            }
        }

        // Show toast notification
        function showToast(message, type = 'success') {
            toast.className = `toast show toast-${type}`;
            toastMessage.textContent = message;
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 5000);
        }

        // Close toast
        toastClose.addEventListener('click', () => {
            toast.classList.remove('show');
        });

        // Handle form submission
        reservationForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            if (!selectedTable) {
                showToast('Please select a table first', 'error');
                return;
            }
            
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;
            const date = document.getElementById('date').value;
            const time = document.getElementById('time').value;
            const guests = document.getElementById('guests').value;
            const specialRequests = document.getElementById('special-requests').value;
            
            const table = tables.find(t => t.id === selectedTable);
            
            if (parseInt(guests) > table.size) {
                showToast(`This table can only accommodate ${table.size} people`, 'error');
                return;
            }
            
            const reservation = {
                id: Date.now(),
                name,
                email,
                phone,
                date,
                time,
                guests: parseInt(guests),
                specialRequests,
                tableId: selectedTable
            };
            
            // Mark table as booked
            table.booked = true;
            
            // Add reservation
            reservations.push(reservation);
            saveReservations();
            
            // Reset form and selected table
            reservationForm.reset();
            selectedTable = null;
            selectedTableInfo.classList.remove('active');
            
            // Render tables and reservations
            renderTables();
            renderReservations();
            
            showToast('Reservation successfully booked!');
        });

        // Initialize
        loadReservations();
        renderTables();
        renderReservations();

        // Set min date for date input to today
        const today = new Date().toISOString().split('T')[0];
        document.getElementById('date').min = today;
    </script>
</body>
</html>